#/bin/bash

echo 'Run tests:'
for (( var=1; ; var++ )); do
	if [[ -a .test$var.in ]]; then
		
		echo '--------------------------------------------------------------------------------'
		echo 'Test #'$var':'
		./a.out < .test$var.in > .fisout
		echo 'Input:'
		cat .test$var.in
		echo ''
		echo 'Expected output:'
		cat .test$var.out
		echo ''
		echo 'Execution result:'
		cat .fisout
		
		if diff -q .fisout .test$var.out > /dev/null ; then	
			echo 'Verdict: OK.'
			res[$((var))]='OK'
		else
			echo 'Verdict: Wrong Answer.'
			res[$((var))]='Wrong Answer'
		fi

	else
		break;
	fi	
done

echo '--------------------------------------------------------------------------------'
echo '--------------------------------------------------------------------------------'
echo 'Test results:'
for (( foo=1; $foo<$var; foo++ )); do
	echo 'Test #'$foo$': '${res[$((foo))]};
done

rm -r -f .*.in
rm -r -f .*.out
rm -r -f .fisout
rm -r -f .nameIn
echo '--------------------------------------------------------------------------------'

echo ' '
echo ' '

